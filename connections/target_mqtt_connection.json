{   
    "name": "Target Connection",
    "connectionType": "mqtt",
    "connectionStatus": "open",
    "failoverEnabled" : true,
    "uri": "tcp://test.mosquitto.org:1883",
    "sources": [],
    "targets": [{
        "address": "subsystems/downlink/{{ thing:id }}",
        "topics" : [
            "_/_/things/twin/events?filter=like(thingId,'org.eclipse.ditto:water-level-subsystem')",
            "_/_/things/live/messages"
        ],
        "authorizationContext": ["connection:mqtt"],
        "qos": 0
    }],
    "mappingContext": {
        "mappingEngine": "JavaScript",
        "options": {
            "incomingScript": "function mapToDittoProtocolMsg(headers, textPayload, bytePayload, contentType) {return null;}",
            "outgoingScript": "function mapFromDittoProtocolMsg(namespace, id, group, channel, criterion, action, path, dittoHeaders, value, status, extra) {let textPayload = '{\"temperature\": ' + \"test\" + ', \"humidity\": ' + \"test\" + ', \"thingId\": \"' + namespace + ':' + id + '\"}'; let bytePayload = null; let contentType = 'application/json'; return  Ditto.buildExternalMsg(dittoHeaders, textPayload, bytePayload, contentType);}",
            "loadBytebufferJS": "false",
             "loadLongJS": "false"
        }
    }
}
